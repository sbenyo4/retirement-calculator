
> retirement-calculator@0.0.0 test
> vitest src/utils/calculator.buckets.test.js


[1m[44m DEV [49m[22m [34mv4.0.15 [39m[90mC:/Users/sbeny/.gemini/antigravity/scratch/retirement-calculator[39m

 [31mΓ¥»[39m src/utils/calculator.buckets.test.js [2m([22m[2m4 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 15[2mms[22m[39m
[31m     [31m├ù[31m should run without error when buckets enabled[39m[32m 10[2mms[22m[39m
     [32mΓ£ô[39m should accumulate using annualReturnRate (Accumulation Rate) pre-retirement[32m 1[2mms[22m[39m
     [32mΓ£ô[39m should split capital according to Safe Rate liability calculation[32m 0[2mms[22m[39m
[31m     [31m├ù[31m should grow buckets at different rates[39m[32m 1[2mms[22m[39m
node.exe : 
At line:1 char:1
+ & "C:\Program 
Files\nodejs/node.exe" 
"C:\Program 
Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~
    + CategoryInfo          : N 
   otSpecified: (:String) [],   
  RemoteException
    + FullyQualifiedErrorId : N 
   ativeCommandError
 
[31mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[39m
[1m[41m Failed Tests 2 [49m[2
2m[31mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[39
m

[41m[1m FAIL [22m[49m src/ut
ils/calculator.buckets.test.js[
2m > [22mSeparate Buckets 
Strategy[2m > [22mshould run 
without error when buckets 
enabled
[31m[1mAssertionError[22m: 
expected undefined to be 
defined[39m
[36m [2mΓ¥»[22m src/utils/cal
culator.buckets.test.js:[2m28:4
6[22m[39m
    [90m 26| [39m        [34m
expect[39m(result[33m.[39mhis
tory[33m.[39mlength)[33m.[39
m[34mtoBeGreaterThan[39m([34m
0[39m)[33m;[39m
    [90m 27| [39m        
[90m// data check[39m
    [90m 28| [39m        [34m
expect[39m(result[33m.[39mhis
tory[[34m0[39m][33m.[39msafe
Bucket)[33m.[39m[34mtoBeDefin
ed[39m()[33m;[39m
    [90m   | [39m             
                                
[31m^[39m
    [90m 29| [39m        [34m
expect[39m(result[33m.[39mhis
tory[[34m0[39m][33m.[39msurp
lusBucket)[33m.[39m[34mtoBeDe
fined[39m()[33m;[39m
    [90m 30| [39m    
})[33m;[39m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ
»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»Γ
Ä»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[1/2]ΓÄ»[22m[
39m

[41m[1m FAIL [22m[49m src/ut
ils/calculator.buckets.test.js[
2m > [22mSeparate Buckets 
Strategy[2m > [22mshould grow 
buckets at different rates
[31m[1mTypeError[22m: Cannot 
read properties of undefined 
(reading 'surplusBucket')[39m
[36m [2mΓ¥»[22m src/utils/cal
culator.buckets.test.js:[2m100:
65[22m[39m
    [90m 98| [39m        
[90m// 10% annual growth on 
~976k[39m
    [90m 99| [39m
    [90m100| [39m        expec
t(endHist.surplusBucket).toBeGre
aterThan(startHist.surpluΓÇª
    [90m   | [39m             
                                
                   [31m^[39m
    [90m101| [39m        [34m
expect[39m(result[33m.[39msur
plus)[33m.[39m[34mtoBeGreater
Than[39m([34m0[39m)[33m;[39
m
    [90m102| [39m    
})[33m;[39m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ
»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»Γ
Ä»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[2/2]ΓÄ»[22m[
39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 21:18:37
[2m   Duration [22m 1.65s[2m (transform 71ms, setup 168ms, import 62ms, tests 15ms, environment 1.12s)[22m

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
